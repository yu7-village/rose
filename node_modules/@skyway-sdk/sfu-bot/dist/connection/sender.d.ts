import { type IceManager, type LocalAudioStream, type LocalCustomVideoStream, type LocalPersonImpl, type LocalVideoStream, type PublicationImpl, type SkyWayChannelImpl, type SkyWayContext, type TransportConnectionState } from '@skyway-sdk/core';
import type { SFURestApiClient } from '@skyway-sdk/sfu-api-client';
import { Forwarding, type ForwardingConfigure } from '../forwarding';
import type { SFUBotMember } from '../member';
import type { SFUTransport } from './transport/transport';
import type { TransportRepository } from './transport/transportRepository';
export declare class Sender {
    readonly publication: PublicationImpl<LocalAudioStream | LocalVideoStream | LocalCustomVideoStream>;
    readonly channel: SkyWayChannelImpl;
    private readonly _api;
    private _transportRepository;
    private _localPerson;
    private _bot;
    private _iceManager;
    private _context;
    forwarding?: Forwarding;
    forwardingId?: string;
    private _producer?;
    /**@private */
    _broadcasterTransport?: SFUTransport;
    private _disposer;
    private _unsubscribeStreamEnableChange?;
    private _cleanupStreamCallbacks?;
    private _connectionState;
    private readonly onConnectionStateChanged;
    closed: boolean;
    private sendSubscriptionStatsReportTimer;
    private _waitingSendSubscriptionStatsReports;
    constructor(publication: PublicationImpl<LocalAudioStream | LocalVideoStream | LocalCustomVideoStream>, channel: SkyWayChannelImpl, _api: SFURestApiClient, _transportRepository: TransportRepository, _localPerson: LocalPersonImpl, _bot: SFUBotMember, _iceManager: IceManager, _context: SkyWayContext);
    private _setConnectionState;
    toJSON(): {
        forwarding: Forwarding | undefined;
        broadcasterTransport: SFUTransport | undefined;
        _connectionState: TransportConnectionState;
    };
    /**@throws {SkyWayError} */
    startForwarding(configure: ForwardingConfigure): Promise<Forwarding>;
    private _listenStreamEnableChange;
    private _produce;
    /** @description 引数のParametersを持ったCodecを優先度配列の先頭に持ってくる
     *  @description H264対応のため
     */
    private _fixVideoCodecWithParametersOrder;
    private _setupTransportAccessForStream;
    unproduce(): void;
    private _replaceTrack;
    close(): void;
    get pc(): RTCPeerConnection | undefined;
    private startSendSubscriptionStatsReportTimer;
}
//# sourceMappingURL=sender.d.ts.map