import { Event, type SkyWayError } from '@skyway-sdk/common';
import { type LocalPerson, type LocalPersonAdapter, type LocalStream, type PublicationOptions, type RemoteAudioStream, type RemoteDataStream, type RemoteVideoStream, type SubscriptionOptions } from '@skyway-sdk/core';
import { RoomMemberImpl } from '../../member';
import type { RoomPublication } from '../../publication';
import type { Room } from '../../room/default';
import type { RoomSubscription } from '../../subscription';
import type { LocalRoomMember } from './default';
/**@internal */
export declare abstract class LocalRoomMemberBase extends RoomMemberImpl implements LocalRoomMember {
    readonly side = "local";
    readonly _local: LocalPerson;
    readonly onStreamPublished: Event<{
        publication: RoomPublication;
    }>;
    readonly onStreamUnpublished: Event<{
        publication: RoomPublication;
    }>;
    readonly onPublicationListChanged: Event<void>;
    readonly onPublicationSubscribed: Event<{
        subscription: RoomSubscription;
        stream: RemoteVideoStream | RemoteAudioStream | RemoteDataStream;
    }>;
    readonly onPublicationUnsubscribed: Event<{
        subscription: RoomSubscription;
    }>;
    readonly onSubscriptionListChanged: Event<void>;
    readonly onFatalError: Event<SkyWayError<Record<string, any>>>;
    readonly _context: import("@skyway-sdk/core").SkyWayContext;
    /**@private */
    constructor(member: LocalPersonAdapter, room: Room);
    get subscriptions(): import("../../subscription").RoomSubscriptionImpl<import("@skyway-sdk/core").RemoteStream>[];
    protected _listenRoomEvent(): void;
    abstract publish<T extends LocalStream = LocalStream>(stream: LocalStream, options?: RoomPublicationOptions): Promise<RoomPublication<T>>;
    abstract unpublish(publicationId: string | RoomPublication): Promise<void>;
    /** internal */
    _publishAsP2P<T extends LocalStream = LocalStream>(stream: LocalStream, options?: PublicationOptions): Promise<RoomPublication<T>>;
    /** internal */
    _publishAsSFU<T extends LocalStream = LocalStream>(stream: LocalStream, options?: PublicationOptions & SFURoomPublicationOptions): Promise<RoomPublication<T>>;
    /** internal */
    _unpublishAsP2P(target: string | RoomPublication): Promise<void>;
    /** internal */
    _unpublishAsSFU(target: string | RoomPublication): Promise<void>;
    subscribe<T extends RemoteVideoStream | RemoteAudioStream | RemoteDataStream>(target: string | RoomPublication, options?: SubscriptionOptions): Promise<{
        subscription: RoomSubscription<T>;
        stream: T;
    }>;
    unsubscribe(target: string | RoomSubscription): Promise<void>;
}
export declare type SFURoomPublicationOptions = {
    /** only for sfu publish */
    maxSubscribers?: number;
};
export declare type RoomPublicationOptions = PublicationOptions & SFURoomPublicationOptions;
//# sourceMappingURL=base.d.ts.map